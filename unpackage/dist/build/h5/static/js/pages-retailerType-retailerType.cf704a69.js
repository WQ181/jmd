(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-retailerType-retailerType"],{"0b84":function(t,e,i){"use strict";var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-uni-view",[i("v-uni-view",{staticClass:"header"},[i("v-uni-image",{staticClass:"img",attrs:{src:"../../static/image/shouye2.jpg"}})],1),i("v-uni-view",{staticClass:"search-item"},[i("v-uni-view",{staticClass:"item"},[i("v-uni-view",{staticClass:"cuIcon-search",staticStyle:{"margin-left":"20upx"}}),i("v-uni-input",{staticClass:"input",attrs:{type:"text",placeholder:"请输入关键字进行搜索"},on:{focus:function(e){e=t.$handleEvent(e),t.focus(e)}},model:{value:t.keywords,callback:function(e){t.keywords=e},expression:"keywords"}}),i("v-uni-view",{staticClass:"cuIcon-close",staticStyle:{"margin-right":"10upx"},on:{click:function(e){e=t.$handleEvent(e),t.clear(e)}}}),t.hidden?t._e():i("v-uni-view",{staticClass:"search-btn",on:{click:function(e){e=t.$handleEvent(e),t.search(e)}}},[t._v("搜索")])],1)],1),t._l(t.retailer,function(e,a){return i("v-uni-view",{key:a,staticClass:"shop-list",on:{click:function(i){i=t.$handleEvent(i),t.toCompanyInfo(e)}}},[i("v-uni-image",{staticClass:"picture",attrs:{src:e.license_image}}),i("v-uni-view",{staticClass:"intro"},[i("v-uni-view",{staticClass:"name"},[t._v(t._s(e.name))]),i("v-uni-view",{staticClass:"addr"},[i("v-uni-image",{staticClass:"dingwei",attrs:{src:"../../static/image/dingwei.png"}}),i("v-uni-view",{staticClass:"distance"},[t._v("距离您:"+t._s(t.distance[a])+"km")])],1)],1),i("v-uni-image",{staticClass:"arrows cuIcon-right"})],1)})],2)},n=[];i.d(e,"a",function(){return a}),i.d(e,"b",function(){return n})},"1b2c":function(t,e,i){"use strict";i.r(e);var a=i("0b84"),n=i("4e77");for(var s in n)"default"!==s&&function(t){i.d(e,t,function(){return n[t]})}(s);i("2daa");var r=i("2877"),o=Object(r["a"])(n["default"],a["a"],a["b"],!1,null,"b71b888c",null);e["default"]=o.exports},"2daa":function(t,e,i){"use strict";var a=i("e2b7"),n=i.n(a);n.a},"4e77":function(t,e,i){"use strict";i.r(e);var a=i("8a71"),n=i.n(a);for(var s in a)"default"!==s&&function(t){i.d(e,t,function(){return a[t]})}(s);e["default"]=n.a},7693:function(t,e,i){e=t.exports=i("2350")(!1),e.push([t.i,"/* 轮播图 */.header[data-v-b71b888c]{width:100%;height:%?380?%}.img[data-v-b71b888c]{width:100%;height:100%}\r\n/* search */.search-item[data-v-b71b888c]{width:100%;height:%?120?%;background-color:#f3f3f3;margin-top:%?10?%;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-content:center;-ms-flex-line-pack:center;align-content:center;-webkit-box-pack:start;-webkit-justify-content:flex-start;-ms-flex-pack:start;justify-content:flex-start}.item[data-v-b71b888c]{width:%?700?%;height:%?60?%;background-color:#fff;margin:%?20?%;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:start;-webkit-justify-content:flex-start;-ms-flex-pack:start;justify-content:flex-start;-webkit-box-align:center;-webkit-align-items:center;-ms-flex-align:center;align-items:center}.input[data-v-b71b888c]{font-size:%?30?%;margin-left:%?10?%;width:100%\r\n\t/* color: #f3f3f3; */}.search-btn[data-v-b71b888c]{font-size:%?30?%;width:%?100?%;\r\n\t/* height: 50upx; */height:100%;text-align:center;\r\n\t/* margin-left: 200upx; */background-color:#f3f3f3}\r\n/* 会员以及商户入驻 */.vipAndshop[data-v-b71b888c]{width:100%;height:%?80?%;\r\n\t/* background-color: yellow; */display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-webkit-flex-direction:row;-ms-flex-direction:row;flex-direction:row;-webkit-box-align:center;-webkit-align-items:center;-ms-flex-align:center;align-items:center}.vip[data-v-b71b888c]{width:48%;height:100%;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-align:center;-webkit-align-items:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;font-size:%?36?%;color:grey}.vip-img[data-v-b71b888c]{width:%?50?%;height:%?40?%;padding-right:%?15?%}.line[data-v-b71b888c]{width:4%;height:90%;margin-bottom:%?20?%}.shop[data-v-b71b888c]{width:48%;height:100%;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-align:center;-webkit-align-items:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;font-size:%?36?%;color:grey}.shop-img[data-v-b71b888c]{width:%?50?%;height:%?40?%;padding-right:%?15?%}\r\n/* 商家列表 */.shop-list[data-v-b71b888c]{width:100%;height:%?160?%;margin:0 %?26?% %?26?% %?26?%;border-bottom:%?1?% solid pink;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;\r\n\t/* flex-direction: row; */-webkit-box-align:center;-webkit-align-items:center;-ms-flex-align:center;align-items:center}.picture[data-v-b71b888c]{width:%?120?%;height:%?120?%\r\n\t/* padding: 20upx; */}.intro[data-v-b71b888c]{width:%?480?%;padding:%?20?%;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;-webkit-align-content:center;-ms-flex-line-pack:center;align-content:center}.name[data-v-b71b888c]{font-size:%?30?%;width:%?400?%;color:red}.addr[data-v-b71b888c]{margin-top:%?10?%;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-webkit-flex-direction:row;-ms-flex-direction:row;flex-direction:row;-webkit-box-align:center;-webkit-align-items:center;-ms-flex-align:center;align-items:center}.dingwei[data-v-b71b888c]{width:%?30?%;height:%?30?%}.distance[data-v-b71b888c]{margin-left:%?10?%;font-size:%?25?%;color:red}.arrows[data-v-b71b888c]{width:%?50?%;height:%?50?%\r\n\t/* padding-left: 260upx; */}",""])},"8a71":function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var a=s(i("2774")),n=s(i("30e1"));function s(t){return t&&t.__esModule?t:{default:t}}var r={data:function(){return{keywords:"",hidden:!0,distance:[],retailer:[],type:""}},onLoad:function(t){var e=this;e.type=t.type,console.log(e.type)},onShow:function(){this.getReatailer()},methods:{getReatailer:function(){var t=this;uni.request({url:a.default.originUrl+"/shop/retailer/bytype.do",method:"GET",data:{type:t.type},success:function(e){console.log(e),t.retailer=e.data.data;for(var i=0;i<e.data.data.length;i++){var a=e.data.data[i].latitude,s=e.data.data[i].longtitude;console.log(a+" "+s);var r=n.default.globalData.lat,o=n.default.globalData.lon;t.getdistance(a,s,r,o),console.log(t.distance)}}})},focus:function(){this.hidden=!this.hidden},search:function(t){var e=[],i=this.keywords;if(console.log(this.keywords),""!=i){for(var a=0;a<this.retailer.length;a++)this.retailer[a].name.match(i)&&(console.log(this.retailer[a].name),e.push(this.retailer[a]));this.retailer=e}},getdistance:function(t,e,i,a){var n=this,s=t*Math.PI/180,r=i*Math.PI/180,o=Math.abs(s-r),l=e*Math.PI/180-a*Math.PI/180,c=2*Math.asin(Math.sqrt(Math.pow(Math.sin(o/2),2)+Math.cos(s)*Math.cos(r)*Math.pow(Math.sin(l/2),2)));return c*=6378.137,c=Math.round(1e4*c)/1e4,console.log(c),n.distance.push(c),c},clear:function(){this.keywords="",this.hidden=!this.hidden,this.getReatailer()},toCompanyInfo:function(t){console.log(t),uni.setStorageSync("nearStore",t),uni.navigateTo({url:"../retailerInfo/retailerInfo"})}}};e.default=r},e2b7:function(t,e,i){var a=i("7693");"string"===typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);var n=i("4f06").default;n("4eb599ea",a,!0,{sourceMap:!1,shadowMode:!1})}}]);